---
title: 进制转换
date: 2021-02-16 22:01:48
tags: [PAT, 进制转换]
categories: [PAT]
math: true
---

# 进制转换

**将P进制的x转成Q进制**需要两步

1. 先将**P进制**转成**十进制**。
2. 再将**十进制**转成**Q进制**。

## 1. P进制转十进制

十进制数字表达方式

$$y = d_1*10^{n-1} + d_2*10^{n-2}+d_3*10^{n-3}+...+d_{n-1}*10 + d_n$$

P进制使用十进制表示的方式

$$y = a_1*P^{n-1} + a_2*P^{n-2}+a_3*P^{n-3}+...+a_{n-1}*P + a_n$$

示例：

将二进制$1101$转成十进制的数字。先将二进制按照十进制表示

$$
y = 1 * 2^3 + 1 * 2 ^ 2 + 0 * 2 + 1 = 8 + 4 + 1 = 13
$$

将8进制$1101$转成十进制的数字。先将二进制按照十进制表示

$$
y = 1 * 8^3 + 1 * 8 ^ 2 + 0 * 8 + 1 = 512 + 64 + 1 = 577
$$

根据上面的例子，可以写出下面代码

```C++
long long convertDecimal(string s, int P) {
	// string s; // 输入的数字
	// int P; // P进制
	int idx = 0; // 表示当前进制
	long long sum = 0, temp;
	for (int i = s.size() - 1; i >= 0; i--) {
		temp = isDigit(s[i]) ? 0 + s[i] : 0 + s[i] - 'a';
		sum += temp * pow(P, idx++);
	}
	return sum;
}
```

## 10进制转Q进制

10进制转其他进制使用的是**除基取余法**。原理很简单，这里直接写代码

> 伪代码，部分地方不准确。可以直接看示例

```C++
// 转成Q进制
void convertQ(int n, int Q) {
	vector<int> ans;
	do {
		ans.push_back(n % Q);
		n /= Q;
	} while (n != 0);
}
```

示例：将十进制$11$转成二进制

```C++
// 11 / 2 = 5 ... 1;
// 5 / 2 = 2 ... 1;
// 2 / 2 = 1 ... 0;
// 1 / 2 = 0 ... 1;
// 0;

// 最终结果是 1011

int z[100];
int idx = 0;
int n = 11;

do {
	z[idx++] = n % 2;
	n /= 2;
} while (n != 0);

// z = [1, 1, 0, 1, ....];
```

## 相关题目

- [1010 Radix (25 分)](https://emhui.fun/2021/02/16/1010-Radix-25-%E5%88%86/)
- [1022 D进制的A+B (20分)](https://emhui.fun/2021/02/16/1022-D%E8%BF%9B%E5%88%B6%E7%9A%84A-B-20%E5%88%86/)
