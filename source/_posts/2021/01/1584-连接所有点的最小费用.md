---
title: 1584. 连接所有点的最小费用
date: 2021-01-19 11:45:23
tags: [leetcode, 算法, 最小生成树, 图, Kruskal]
categories: [LeetCode]
index_img: https://tva4.sinaimg.cn/large/87c01ec7gy1frmmw9573mj21kw0w0npk.jpg
---

# [1584. 连接所有点的最小费用](https://emhui.fun/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/)

## 题目

![MiReTb](https://gitee.com/yoyhm/oss/raw/master/uPic/MiReTb.png)

## 思路

本题是求由这些点组成的最小生成树权值大小。可以使用**Kruskal算法**。

### Kruskal算法 [^1]

> 该算法细节可以参考[最小生成树](https://emhui.fun/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/)

该算法满足实现两点

- 建立一个权值边和边两个顶点的集合。同时该集合按照边的权值由小到达排序。
- 从该集合中几次选出最小的边，判断该边的两个点是否已经在最小生成树中（**使用并查集**），若不在，则将该边加入到最小生成树中，同时连通该两点。若存在该两点，则继续寻找下一个权值最小的边。

## 代码

### Kruskal

```C++
class UnionFind {
    private:
    vector<int> parent;
    public:
    UnionFind(int n) {
        for (int i = 0; i < n; i++) parent.push_back(i);
    }
    int find(int x) {
        if (x != parent[x]) {
            parent[x] = find(parent[x]);
        }
        return parent[x];
    }
    void quick_union(int v, int w) {
        parent[find(v)] = find(w);
    }
};
class Solution {
public:
    int minCostConnectPoints(vector<vector<int>>& points) {
        // 建立一个权值的对应的边
        vector<pair<int, pair<int, int>>> edges;
        for (int i = 0; i < points.size(); i++) {
            for (int j = i + 1; j < points.size(); j++) {
                int cost = abs(points[i][0] - points[j][0]) + abs(points[i][1] - points[j][1]);

                edges.push_back(make_pair(cost, make_pair(i, j))); // 把i,j两个点放到求加权边的目录
            }
        }
        sort(edges.begin(), edges.end()); // 按照权边进行排序
        UnionFind uf(points.size());
        // 开始检查加权边
        int sum = 0;
        for (int i = 0; i < edges.size(); i++) {
            int cost = edges[i].first;
            int u = edges[i].second.first, v = edges[i].second.second;
            if (uf.find(u) == uf.find(v)) continue;
            uf.quick_union(u, v);
            sum += cost;
        }
        return sum;
    }
};
```

[^1]: [最小生成树](https://emhui.fun/2021/01/19/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/)
