---
title: 二叉树的最近公共祖先
date: 2021-01-25 11:04:21
tags: [leetcode, 算法, 二叉树, LCA]
categories: [LeetCode]
index_img: https://tva4.sinaimg.cn/large/87c01ec7gy1frmmknznonj21hc0u01l1.jpg
---

# 最近公共祖先

> 本文章记录两个模板，具体题目可以参考最后的相关题目

该题目主要有两种类型

- 普通的二叉树最近公共祖先
- 二叉搜索树的最近公共祖先


## 普通二叉树的最近公共祖先

```C++
class Solution {
public:
    TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
        if (root == NULL) return root;
        if (root == p || root == q) return root;
        TreeNode* left = lowestCommonAncestor(root->left, p, q);
        TreeNode* right = lowestCommonAncestor(root->right, p, q);
        if (left == NULL) return right;
        else if (right == NULL) return left;
        else return root;
    }
};
```

## 二叉搜索树的最近公共祖先

```C++
class Solution {
public:
    TreeNode* lowestCommonAncestor(TreeNode* root, TreeNode* p, TreeNode* q) {
        if (root == NULL) return NULL;
        // u,v at root's right
        if (root->val < p->val && root->val < q->val) {
            return lowestCommonAncestor(root->right, p, q);
        }
        // u,v at root's left
        if (root->val > p->val && root->val > q->val) {
            return lowestCommonAncestor(root->left, p, q);
        }
        return root; // u, v on both sides of root
    }
};
```

## 相关题目

- [235. 二叉搜索树的最近公共祖先](https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-search-tree/)
- [剑指 Offer 68 - II. 二叉树的最近公共祖先](https://leetcode-cn.com/problems/er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof/)
- [1143 Lowest Common Ancestor (30分)](https://emhui.fun/2021/01/24/1143-Lowest-Common-Ancestor/)
- [1151 LCA in a Binary Tree (30分)](https://emhui.fun/2021/01/23/1151-LCA-in-a-Binary-Tree/)
