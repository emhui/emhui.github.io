---
title: 1044 火星数字
date: 2021-01-04 18:30:33
index_img: https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture
tags:
- PAT
- C++
- 算法
- map
categories:
  - PAT
math: true
---

# [1044 火星数字 (20分)](https://pintia.cn/problem-sets/994805260223102976/problems/994805279328157696)

> 本文内容参考自《算法笔记-上机训练实战指南》[^1]，并添加上自己总结，容易出错部分。

# 题目

火星人是以 13 进制计数的：

- 地球人的 0 被火星人称为 tret。
- 地球人数字 1 到 12 的火星文分别为：jan, feb, mar, apr, may, jun, jly, aug, sep, oct, nov, dec。
- 火星人将进位以后的 12 个高位数字分别称为：tam, hel, maa, huh, tou, kes, hei, elo, syy, lok, mer, jou。

例如地球人的数字 `29` 翻译成火星文就是 `hel mar`；而火星文 `elo nov` 对应地球数字 `115`。为了方便交流，请你编写程序实现地球和火星数字之间的互译。

输入格式：
输入第一行给出一个正整数 $N（<100）$，随后 $N$ 行，每行给出一个 $[0, 169)$ 区间内的数字 —— 或者是地球文，或者是火星文。

## 输出格式：

对应输入的每一行，在一行中输出翻译后的另一种语言的数字。

> 4
>
> 29
>
> 5
>
> elo nov
>
> tam

## 输入样例：

> hel mar
>
> may
>
> 115
>
> 13

# 思路

- 因为输入的测试数据范围是$13*13=169$，所以可以考虑将所有数据都计算出来。
- 设置两个数组，一个是`n2s`，用来存储数字转化为字符串。
- 另一个数组 `s2n`，用来存储字符串转化为数字。

预处理代码
```c++
string unit[13] = {
    "tret", "jan", "feb", "mar", "apr", "may", "jun", "jly", "aug", "sep", "oct", "nov", "dec"
};

string ten[13] = {
    "tret", "tam", "hel", "maa", "huh", "tou", "kes", "hei", "elo", "syy", "lok", "mer", "jou"
};

string n2s[170]; // num->string
map<string, int> s2n; // string -> num

void init() {
    for (int i = 0; i < 13; i++) {
        n2s[i] = unit[i]; // 填充 0- 12
        n2s[i * 13] = ten[i]; // 填充13的倍数
        s2n[unit[i]] = i; // 填充 0-12
        s2n[ten[i]] = i * 13; // 填充 13的倍数

    }
    // 接下来填充其他部分数据
	// ⚠️需要从1开始，因为13倍数部分已经在上面被填充了
    for (int i = 1; i < 13; i++) {
        for (int j = 1; j < 13; ++j) {
            string res = ten[i] + " " + unit[j]; // 组成新的字符串
            n2s[i * 13 + j] = res;
            s2n[res] = i * 13 + j;
        }
    }
}
```

# 代码实现

```C++
#include <cstdio>
#include <iostream>
#include <string>
#include <map>
using namespace std;

string unit[13] = {
    "tret", "jan", "feb", "mar", "apr", "may", "jun", "jly", "aug", "sep", "oct", "nov", "dec"
};

string ten[13] = {
    "tret", "tam", "hel", "maa", "huh", "tou", "kes", "hei", "elo", "syy", "lok", "mer", "jou"
};

string n2s[170]; // num->string
map<string, int> s2n; // string -> num

void init() {
    for (int i = 0; i < 13; i++) {
        n2s[i] = unit[i]; // 填充 0- 12
        n2s[i * 13] = ten[i]; // 填充13的倍数
        s2n[unit[i]] = i; // 填充 0-12
        s2n[ten[i]] = i * 13; // 填充 13的倍数

    }
    // 接下来填充其他部分数据
    for (int i = 1; i < 13; i++) {
        for (int j = 1; j < 13; ++j) {
            string res = ten[i] + " " + unit[j]; // 组成新的字符串
            n2s[i * 13 + j] = res;
            s2n[res] = i * 13 + j;
        }
    }
}

int main()
{
    init();
    int n;
    scanf("%d", &n);
    cin.get(); // 需要吸收回车符号，不然使用getline的第一个字符是回车
    while (n--) {
        string str;
        getline(cin, str);
        // fgets(str, 100, stdin);
        // cin >> str;
        // cout << str <<endl;
        if (str[0] >= '0' && str[0] <= '9') {
            int num = 0;
            for (int i = 0; i < str.length(); ++i)
            {
                num = num * 10 + (str[i] - '0');
            }
            // printf("%d\n", num);
            //printf("%s\n", n2s[num]);
            cout << n2s[num] <<endl;
        } else {
            //printf("%d\n", s2n[str]);
            cout << s2n[str] <<endl;
        }
    }
    return 0;
}
```

# 其他

> 由于本人初次学习C++，在写代码的时候遇到几个语法问题

- 在输出`string`类型的变量时候，使用`printf("%s", str);`出现乱码，而需要使用`cout << str << endl;`。因为`printf`里面要求的是`*char`类型，而`string`与`*char`类型不一样。[^2]
- C++中，处理字符[^3]
	- 处理`string`使用`getline(cin,str)`.
	- 处理`char[]`类型使用`cin.getline(char * , in)`
	- ⚠️ 在输入的时候，需要注意吸收字符`cin.get();//接受最后一个结束符`


[^1]: [算法笔记上机训练实战指南](https://book.douban.com/subject/30162908/)
[^2]: [c++ string问题 cout输出正常，printf输出乱码](https://blog.csdn.net/qinweixin/article/details/51743962)
[^3]: [C++ 输入函数getline(cin,str) 与cin.getline(str,int)区别](https://blog.csdn.net/xumengxing/article/details/6664436)
