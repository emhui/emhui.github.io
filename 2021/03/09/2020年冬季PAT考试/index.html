<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/icon/favicon.png"><link rel="icon" href="/img/icon/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="description" content="练习写作，记录Life"><meta name="author" content="Emhui"><meta name="keywords" content=""><meta name="description" content="2020年冬季PAT考试7-1 The Closest Fibonacci Number (20 分)The Fibonacci sequence F​n​​ is defined by F​n+2​​&#x3D;F​n+1​​+F​n​​ for n≥0, with F​0​​&#x3D;0 and F​1​​&#x3D;1. The closest Fibonacci number is defined as the Fi"><meta property="og:type" content="article"><meta property="og:title" content="2020年冬季PAT考试"><meta property="og:url" content="http://emhui.fun/2021/03/09/2020%E5%B9%B4%E5%86%AC%E5%AD%A3PAT%E8%80%83%E8%AF%95/index.html"><meta property="og:site_name" content="Emhui的小站"><meta property="og:description" content="2020年冬季PAT考试7-1 The Closest Fibonacci Number (20 分)The Fibonacci sequence F​n​​ is defined by F​n+2​​&#x3D;F​n+1​​+F​n​​ for n≥0, with F​0​​&#x3D;0 and F​1​​&#x3D;1. The closest Fibonacci number is defined as the Fi"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://img-blog.csdnimg.cn/img_convert/8f0c44f4c64c41ee9c46b0f262e93da3.png"><meta property="article:published_time" content="2021-03-09T12:06:06.000Z"><meta property="article:modified_time" content="2021-10-10T08:46:22.740Z"><meta property="article:author" content="Emhui"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://img-blog.csdnimg.cn/img_convert/8f0c44f4c64c41ee9c46b0f262e93da3.png"><title>2020年冬季PAT考试 - Emhui的小站</title><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4.0.0/github-markdown.min.css"><link rel="stylesheet" href="/lib/hint/hint.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10.4.0/styles/github-gist.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css"><link rel="stylesheet" href="/css/main.css"><script id="fluid-configs">var Fluid=window.Fluid||{},CONFIG={hostname:"emhui.fun",root:"/",version:"1.8.12",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},copy_btn:!0,image_zoom:{enable:!0},toc:{enable:!0,headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,onlypost:!1},web_analytics:{enable:!0,baidu:"e2720b60fa1323d2ed667e95b6b213c7",google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null}},search_path:"/local-search.xml"}</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 5.2.0"></head><body><header style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>浮生若梦H</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div class="banner" id="banner" parallax="true" style="background:url(https://api.dujin.org/bing/1366.php) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="page-header text-center fade-in-up"><span class="h2" id="subtitle" title="2020年冬季PAT考试"></span><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2021-03-09 20:06" pubdate>2021年3月9日 晚上</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i> 7.5k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> NaN 分钟</span></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div class="py-5" id="board"><article class="post-content mx-auto"><h1 style="display:none">2020年冬季PAT考试</h1><div class="markdown-body"><h1 id="2020年冬季PAT考试"><a href="#2020年冬季PAT考试" class="headerlink" title="2020年冬季PAT考试"></a>2020年冬季PAT考试</h1><h2 id="7-1-The-Closest-Fibonacci-Number-20-分"><a href="#7-1-The-Closest-Fibonacci-Number-20-分" class="headerlink" title="7-1 The Closest Fibonacci Number (20 分)"></a>7-1 The Closest Fibonacci Number (20 分)</h2><p>The Fibonacci sequence F​n​​ is defined by F​n+2​​=F​n+1​​+F​n​​ for n≥0, with F​0​​=0 and F​1​​=1. The closest Fibonacci number is defined as the Fibonacci number with the smallest absolute difference with the given integer N.</p><p>Your job is to find the closest Fibonacci number for any given N.</p><h3 id="Input-Specification"><a href="#Input-Specification" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case, which gives a positive integer N (≤10​8​​).</p><h3 id="Output-Specification"><a href="#Output-Specification" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each case, print the closest Fibonacci number. If the solution is not unique, output the smallest one.</p><h3 id="Sample-Input"><a href="#Sample-Input" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-number">305</span><br></code></pre></td></tr></table></figure><h3 id="Sample-Output"><a href="#Sample-Output" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-number">233</span><br></code></pre></td></tr></table></figure><h3 id="Hint"><a href="#Hint" class="headerlink" title="Hint:"></a>Hint:</h3><blockquote><p>Since part of the sequence is { 0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144, 233, 377, 610, … }, there are two solutions: 233 and 377, both have the smallest distance 72 to 305. The smaller one must be printed out.</p></blockquote><h3 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h3><p>本题考查 <strong>斐波拉契数列</strong></p><p>题目很简单，直接看代码吧</p><h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-comment">// 求斐波拉契数列</span><br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-keyword">int</span> n;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    <span class="hljs-keyword">int</span> a = <span class="hljs-number">0</span>, b = <span class="hljs-number">1</span>, temp;<br><br>    <span class="hljs-keyword">while</span> (b &lt; n) &#123;<br>        temp = a + b;<br>        a = b;<br>        b = temp;<br>    &#125;<br>    <span class="hljs-comment">// 判断 a b 和 n 的差值</span><br>    <span class="hljs-keyword">if</span> (n - a &lt;= b - n) <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d</span><br><span class="hljs-string">&quot;</span>, a);<br>    <span class="hljs-keyword">else</span> <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d</span><br><span class="hljs-string">&quot;</span>, b);<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-2-Subsequence-in-Substring-25-分"><a href="#7-2-Subsequence-in-Substring-25-分" class="headerlink" title="7-2 Subsequence in Substring (25 分)"></a>7-2 Subsequence in Substring (25 分)</h2><p>A substring is a continuous part of a string. A subsequence is the part of a string that might be continuous or not but the order of the elements is maintained. For example, given the string atpaaabpabtt, pabt is a substring, while pat is a subsequence.</p><p>Now given a string S and a subsequence P, you are supposed to find the shortest substring of S that contains P. If such a solution is not unique, output the left most one.</p><h3 id="Input-Specification-1"><a href="#Input-Specification-1" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case which consists of two lines. The first line contains S and the second line P. S is non-empty and consists of no more than 10​4​​ lower English letters. P is guaranteed to be a non-empty subsequence of S.</p><h3 id="Output-Specification-1"><a href="#Output-Specification-1" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each case, print the shortest substring of S that contains P. If such a solution is not unique, output the left most one.</p><h3 id="Sample-Input-1"><a href="#Sample-Input-1" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">atpaaabpabttpcat</span><br><span class="hljs-attribute">pat</span><br></code></pre></td></tr></table></figure><h3 id="Sample-Output-1"><a href="#Sample-Output-1" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">pabt</span><br></code></pre></td></tr></table></figure><h3 id="分析-1"><a href="#分析-1" class="headerlink" title="分析"></a>分析</h3><p>本体使用暴力求解，在s1中找到第一个等于s2[0]的位置，然后再开始以该位置为起始位置，在s1中逐个寻找s2的元素，直到全部找完。在若干个解中找到字符串长度最小的。</p><h3 id="代码-1"><a href="#代码-1" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-built_in">string</span> s1, s2;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2;<br>    <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j, dis = <span class="hljs-number">987654321</span>, start;<br>    <span class="hljs-keyword">while</span> (i &lt; s1.length() - s2.length()) &#123;<br>        <span class="hljs-keyword">if</span> (s1[i] == s2[<span class="hljs-number">0</span>]) &#123;<br>            j = i;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>; k &lt; s2.length(); k++) &#123;<br>                <span class="hljs-keyword">while</span> (j &lt; s1.length() &amp;&amp; s1[j] != s2[k]) j++;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (dis &gt; j - i + <span class="hljs-number">1</span>) &#123;<br>                dis = j - i + <span class="hljs-number">1</span>;<br>                start = i;<br>            &#125;<br>        &#125;<br>        i++;<br>    &#125;<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s</span><br><span class="hljs-string">&quot;</span>, s1.substr(start, dis).c_str());<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-3-File-Path-25-分"><a href="#7-3-File-Path-25-分" class="headerlink" title="7-3 File Path (25 分)"></a>7-3 File Path (25 分)</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/8f0c44f4c64c41ee9c46b0f262e93da3.png" srcset="/img/loading.gif" lazyload alt="path">  </p><p>The figure shows the tree view of directories in Windows File Explorer. When a file is selected, there is a file path shown in the above navigation bar. Now given a tree view of directories, your job is to print the file path for any selected file.</p><h3 id="Input-Specification-2"><a href="#Input-Specification-2" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. For each case, the first line gives a positive integer N (≤10​3​​), which is the total number of directories and files. Then N lines follow, each gives the unique 4-digit ID of a file or a directory, starting from the unique root ID 0000. The format is that the files of depth d will have their IDs indented by d spaces. It is guaranteed that there is no conflict in this tree structure.</p><p>Then a positive integer K (≤100) is given, followed by K queries of IDs.</p><h3 id="Output-Specification-2"><a href="#Output-Specification-2" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each queried ID, print in a line the corresponding path from the root to the file in the format: 0000-&gt;ID1-&gt;ID2-&gt;…-&gt;ID. If the ID is not in the tree, print Error: ID is not found. instead.</p><h3 id="Sample-Input-2"><a href="#Sample-Input-2" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-number">14</span><br><span class="hljs-number">0000</span><br> <span class="hljs-number">1234</span><br>  <span class="hljs-number">2234</span><br>   <span class="hljs-number">3234</span><br>    <span class="hljs-number">4234</span><br>    <span class="hljs-number">4235</span><br>    <span class="hljs-number">2333</span><br>   <span class="hljs-number">5234</span><br>   <span class="hljs-number">6234</span><br>    <span class="hljs-number">7234</span><br>     <span class="hljs-number">9999</span><br>  <span class="hljs-number">0001</span><br>   <span class="hljs-number">8234</span><br> <span class="hljs-number">0002</span><br><span class="hljs-number">4</span> <span class="hljs-number">9999</span> <span class="hljs-number">8234</span> <span class="hljs-number">0002</span> <span class="hljs-number">6666</span><br></code></pre></td></tr></table></figure><h3 id="Sample-Output-2"><a href="#Sample-Output-2" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-number">0000</span>-&gt;<span class="hljs-number">1234</span>-&gt;<span class="hljs-number">2234</span>-&gt;<span class="hljs-number">6234</span>-&gt;<span class="hljs-number">7234</span>-&gt;<span class="hljs-number">9999</span><br><span class="hljs-number">0000</span>-&gt;<span class="hljs-number">1234</span>-&gt;<span class="hljs-number">0001</span>-&gt;<span class="hljs-number">8234</span><br><span class="hljs-number">0000</span>-&gt;<span class="hljs-number">0002</span><br>Error: <span class="hljs-number">6666</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> found.<br></code></pre></td></tr></table></figure><h3 id="分析-2"><a href="#分析-2" class="headerlink" title="分析"></a>分析</h3><p>本题设置一个结构体，用于存储当前所在的层级，自己的上一层目录是谁。如何找到上一层目录是谁？有三种情况（设置一个变量<code>pre</code>表示上一次输入的目录, <code>cur</code>表示当前输入的目录）</p><ul><li>若<code>cur</code>和<code>pre</code>的层级一样，那么它们的上一层目录一样。</li><li>若<code>cur</code>和<code>pre</code>的层级关系是<code>FP[cur].level = FP[pre].level + 1</code>，那么<code>cur</code>是<code>pre</code>的子目录。</li><li>若<code>cur</code>和<code>pre</code>的层级关系是<code>FP[cur].level &lt; FP[pre].level</code>，则需要从<code>pre</code>往上找到和<code>cur</code>同一层级的目录，它们的上一层目录一样。</li></ul><p>伪代码如下</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">if</span> (level == FP[pref].level) &#123;<br>	FP[f].parent = FP[pref].parent;<br>	<span class="hljs-comment">// 如果是子目录</span><br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (level == FP[pref].level + <span class="hljs-number">1</span>) &#123;<br>	FP[f].parent = pref;<br>	<span class="hljs-comment">// 不是同级目录，向上找它的父级目录</span><br>&#125; <span class="hljs-keyword">else</span> &#123;<br>	<span class="hljs-keyword">int</span> parent = FP[pref].parent;<br>	<span class="hljs-keyword">while</span> (FP[parent].level != level) &#123;parent = FP[parent].parent;&#125;<br>	FP[f].parent = FP[parent].parent;<br>&#125;<br>pref = f;<br></code></pre></td></tr></table></figure><p>具体实现</p><h3 id="代码-2"><a href="#代码-2" class="headerlink" title="代码"></a>代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;string&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span><br><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> MAX = <span class="hljs-number">100000</span>;<br><br><span class="hljs-comment">// 创建一个目录</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">F</span>&#123;</span><br>    <span class="hljs-keyword">int</span> parent, level;<br>    F(): parent(<span class="hljs-number">-1</span>), level(<span class="hljs-number">-1</span>) &#123;&#125;<br>&#125;FP[MAX];<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">split</span><span class="hljs-params">(<span class="hljs-built_in">string</span> s, <span class="hljs-keyword">int</span>&amp; level, <span class="hljs-keyword">int</span>&amp; filename)</span> </span>&#123;<br>    <span class="hljs-keyword">while</span> (s[level] == <span class="hljs-string">&#x27; &#x27;</span>) level++;<br>    filename = stoi(s);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DFS</span><span class="hljs-params">(<span class="hljs-keyword">int</span> f)</span> </span>&#123;<br>    <span class="hljs-keyword">if</span> (f == <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;0000&quot;</span>);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    DFS(FP[f].parent);<br>    <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;-&gt;%04d&quot;</span>, f);<br>&#125;<br><br><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>&#123;<br>    <span class="hljs-comment">// freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin);</span><br>    <span class="hljs-keyword">int</span> n, pref = <span class="hljs-number">0</span>;<br>    <span class="hljs-built_in">string</span> s ;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; n;<br>    getchar();<br><br>    <span class="hljs-comment">// 初始化根目录</span><br>    FP[<span class="hljs-number">0</span>].level = <span class="hljs-number">0</span>;<br>    FP[<span class="hljs-number">0</span>].parent = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">while</span> (n--) &#123;<br>        getline(<span class="hljs-built_in">cin</span>, s);<br>        <span class="hljs-keyword">int</span> level = <span class="hljs-number">0</span>, f;<br>        split(s, level, f);<br>        FP[f].level = level;<br>        <span class="hljs-comment">// 如果目录同级</span><br>        <span class="hljs-keyword">if</span> (level == FP[pref].level) &#123;<br>            FP[f].parent = FP[pref].parent;<br>            <span class="hljs-comment">// 如果是子目录</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (level == FP[pref].level + <span class="hljs-number">1</span>) &#123;<br>            FP[f].parent = pref;<br>            <span class="hljs-comment">// 不是同级目录，向上找它的父级目录</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">int</span> parent = FP[pref].parent;<br>            <span class="hljs-keyword">while</span> (FP[parent].level != level) &#123;parent = FP[parent].parent;&#125;<br>            FP[f].parent = FP[parent].parent;<br>        &#125;<br>        pref = f;<br>    &#125;<br>    <span class="hljs-keyword">int</span> k, f;<br>    <span class="hljs-built_in">cin</span> &gt;&gt; k;<br>    <span class="hljs-keyword">while</span> (k--) &#123;<br>        <span class="hljs-built_in">cin</span> &gt;&gt; f;<br>        <span class="hljs-keyword">if</span> (FP[f].level == <span class="hljs-number">-1</span>) &#123;<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Error: %04d is not found.</span><br><span class="hljs-string">&quot;</span>, f);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            DFS(f);<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;</span><br><span class="hljs-string">&quot;</span>);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="7-4-Chemical-Equation-30-分"><a href="#7-4-Chemical-Equation-30-分" class="headerlink" title="7-4 Chemical Equation (30 分)"></a>7-4 Chemical Equation (30 分)</h2><p>A chemical equation is the symbolic representation of a chemical reaction in the form of symbols and formulae, wherein the reactant entities are given on the left-hand side and the product entities on the right-hand side. For example, CH​4​​+2O​2​​=CO​2​​+2H​2​​O means that the reactants in this chemical reaction are methane and oxygen: CH​4​​ and O​2​​, and the products of this reaction are carbon dioxide and water: CO​2​​ and H​2​​O.</p><p>Given a set of reactants and products, you are supposed to tell that in which way we can obtain these products, provided that each reactant can be used only once. For the sake of simplicity, we will consider all the entities on the right-hand side of the equation as one single product.</p><h3 id="Input-Specification-3"><a href="#Input-Specification-3" class="headerlink" title="Input Specification:"></a>Input Specification:</h3><p>Each input file contains one test case. For each case, the first line gives an integer N (2≤N≤20), followed by N distinct indices of reactants. The second line gives an integer M (1≤M≤10), followed by M distinct indices of products. The index of an entity is a 2-digit number.</p><p>Then a positive integer K (≤50) is given, followed by K lines of equations, in the format:</p><p>reactant_1 + reactant_2 + … + reactant_n -&gt; product<br>where all the reactants are distinct and are in increasing order of their indices.</p><p>Note: It is guaranteed that</p><p>one set of reactants will not produce two or more different products, i.e. situation like 01 + 02 -&gt; 03 and 01 + 02 -&gt; 04 is impossible;<br>a reactant cannot be its product unless it is the only one on the left-hand side, i.e. 01 -&gt; 01 is always true (no matter the equation is given or not), but 01 + 02 -&gt; 01 is impossible; and<br>there are never more than 5 different ways of obtaining a product given in the equations list.</p><h3 id="Output-Specification-3"><a href="#Output-Specification-3" class="headerlink" title="Output Specification:"></a>Output Specification:</h3><p>For each case, print the equations that use the given reactants to obtain all the given products. Note that each reactant can be used only once.</p><p>Each equation occupies a line, in the same format as we see in the inputs. The equations must be print in the same order as the products given in the input. For each product in order, if the solution is not unique, always print the one with the smallest sequence of reactants – A sequence { a​1​​,⋯,a​m​​ } is said to be smaller than another sequence { b​1​​,⋯,b​n​​ } if there exists 1≤i≤min(m,n) so that a​j​​=b​j​​ for all j&lt;i, and a​i​​&lt;b​i​​.</p><p>It is guaranteed that at least one solution exists.</p><h3 id="Sample-Input-3"><a href="#Sample-Input-3" class="headerlink" title="Sample Input:"></a>Sample Input:</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">8 </span><span class="hljs-number">09</span> <span class="hljs-number">05</span> <span class="hljs-number">03</span> <span class="hljs-number">04</span> <span class="hljs-number">02</span> <span class="hljs-number">01</span> <span class="hljs-number">16</span> <span class="hljs-number">10</span><br><span class="hljs-symbol">3 </span><span class="hljs-number">08</span> <span class="hljs-number">03</span> <span class="hljs-number">04</span><br><span class="hljs-number">6</span><br><span class="hljs-symbol">03 </span>+ <span class="hljs-number">09</span> -&gt; <span class="hljs-number">08</span><br><span class="hljs-symbol">02 </span>+ <span class="hljs-number">08</span> -&gt; <span class="hljs-number">04</span><br><span class="hljs-symbol">02 </span>+ <span class="hljs-number">04</span> -&gt; <span class="hljs-number">03</span><br><span class="hljs-symbol">01 </span>+ <span class="hljs-number">05</span> -&gt; <span class="hljs-number">03</span><br><span class="hljs-symbol">01 </span>+ <span class="hljs-number">09</span> + <span class="hljs-number">16</span> -&gt; <span class="hljs-number">03</span><br><span class="hljs-symbol">02 </span>+ <span class="hljs-number">03</span> + <span class="hljs-number">05</span> -&gt; <span class="hljs-number">08</span><br></code></pre></td></tr></table></figure><h3 id="Sample-Output-3"><a href="#Sample-Output-3" class="headerlink" title="Sample Output:"></a>Sample Output:</h3><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">02 </span>+ <span class="hljs-number">03</span> + <span class="hljs-number">05</span> -&gt; <span class="hljs-number">08</span><br><span class="hljs-symbol">01 </span>+ <span class="hljs-number">09</span> + <span class="hljs-number">16</span> -&gt; <span class="hljs-number">03</span><br><span class="hljs-symbol">04 </span>-&gt; <span class="hljs-number">04</span><br></code></pre></td></tr></table></figure><h3 id="分析-3"><a href="#分析-3" class="headerlink" title="分析"></a>分析</h3><blockquote><p>暂时没有思路</p></blockquote></div><hr><div><div class="post-metas mb-3"></div><p class="note note-warning">本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p><div class="post-prevnext"><article class="post-prev col-6"><a href="/2021/03/10/%E5%9F%BA%E6%9C%AC%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%EF%BC%88%E5%BD%92%E5%B9%B6%E3%80%81%E5%BF%AB%E6%8E%92%E3%80%81%E9%80%89%E6%8B%A9%E3%80%81%E6%8F%92%E5%85%A5%EF%BC%89/"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">基本排序算法实现（归并、快排、选择、插入）</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2021/03/08/2020%E5%B9%B4%E7%A7%8B%E5%AD%A3PAT%E8%80%83%E8%AF%95/"><span class="hidden-mobile">2020年秋季PAT考试</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article class="comments" id="comments" lazyload><script type="text/javascript">Fluid.utils.loadComments("#comments",(function(){var t=document.documentElement.getAttribute("data-user-color-scheme");t="dark"===t?"github-dark":"github-light",window.UtterancesThemeLight="github-light",window.UtterancesThemeDark="github-dark";var e=document.createElement("script");e.setAttribute("src","https://utteranc.es/client.js"),e.setAttribute("repo","emhui/comments"),e.setAttribute("issue-term","pathname"),e.setAttribute("label","utterances"),e.setAttribute("theme",t),e.setAttribute("crossorigin","anonymous"),document.getElementById("comments").appendChild(e)}))</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer class="text-center mt-5 py-3"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></footer><script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",(function(){NProgress.done()}))</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="/js/local-search.js"></script><script src="/js/img-lazyload.js"></script><script src="https://cdn.jsdelivr.net/npm/tocbot@4.12.0/dist/tocbot.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/anchor-js@4.3.0/anchor.min.js"></script><script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.11/lib/typed.min.js"></script><script>!function(t,i){(0,Fluid.plugins.typing)(i.getElementById("subtitle").title)}(window,document)</script><script defer>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?e2720b60fa1323d2ed667e95b6b213c7";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script src="/js/boot.js"></script></body></html>